# âœ… Cloudflare Pages é…ç½®æ£€æŸ¥æ¸…å•

## ğŸ¯ æ‰“å¼€æ­¤é¡µé¢è¿›è¡Œé€é¡¹æ£€æŸ¥

åœ¨ä¿®å¤ 404 é”™è¯¯æ—¶ï¼Œè¯·æ‰“å¼€ Cloudflare Dashboard å¹¶é€é¡¹æ£€æŸ¥ï¼š

---

## ğŸ“ æ­¥éª¤ 1: å¯¼èˆªåˆ°é¡¹ç›®è®¾ç½®

```
Cloudflare Dashboard 
  â†’ Pages 
    â†’ é€‰æ‹©æ‚¨çš„é¡¹ç›® 
      â†’ Settings 
        â†’ Builds & deployments
```

---

## ğŸ“‹ æ­¥éª¤ 2: æ£€æŸ¥é…ç½®ï¼ˆé€é¡¹æ ¸å¯¹ï¼‰

### âœ… Framework preset
```
[ ] å·²è®¾ç½®ä¸º "None" æˆ– "Vite"
```

---

### âœ… Build command
```
[ ] æ˜¾ç¤º: npm run build
[ ] ç¡®è®¤æ²¡æœ‰æ‹¼å†™é”™è¯¯
[ ] ç¡®è®¤æœ‰ç©ºæ ¼åœ¨ "run" å’Œ "build" ä¹‹é—´
```

**æ­£ç¡®ç¤ºä¾‹**:
```
npm run build  âœ…
```

**é”™è¯¯ç¤ºä¾‹**:
```
npm build      âŒ (ç¼ºå°‘ "run")
npm  run build âŒ (å¤šä½™çš„ç©ºæ ¼)
npmrun build   âŒ (ç¼ºå°‘ç©ºæ ¼)
```

---

### âœ… Build output directory âš ï¸ **æœ€å…³é”®**
```
[ ] æ˜¾ç¤º: dist
[ ] ç¡®è®¤æ²¡æœ‰å‰ç¼€ (ä¸æ˜¯ ./dist æˆ– /dist)
[ ] ç¡®è®¤æ²¡æœ‰å¤šä½™ç©ºæ ¼
[ ] ç¡®è®¤ä¸æ˜¯ç©ºçš„
```

**æ­£ç¡®ç¤ºä¾‹**:
```
dist  âœ…
```

**é”™è¯¯ç¤ºä¾‹**:
```
./dist  âŒ (æœ‰ ./ å‰ç¼€)
/dist   âŒ (æœ‰ / å‰ç¼€)
build   âŒ (é”™è¯¯çš„ç›®å½•å)
[ç©º]    âŒ (æœªè®¾ç½®)
```

---

### âœ… Root directory
```
[ ] ç•™ç©ºæˆ–æ˜¾ç¤º "/"
```

---

### âœ… Environment variables (å¯é€‰)
```
[ ] NODE_VERSION = 22.16.0
[ ] NODE_OPTIONS = --max-old-space-size=4096 (å¦‚æœéœ€è¦)
```

**å¦‚ä½•æ£€æŸ¥**:
- åœ¨åŒä¸€é¡µé¢ï¼Œå±•å¼€ "Environment variables (advanced)"
- å¦‚æœæ²¡æœ‰è¿™äº›å˜é‡ï¼Œå¯ä»¥ç¨åæ·»åŠ 

---

## ğŸ“ æ­¥éª¤ 3: æ£€æŸ¥éƒ¨ç½²çŠ¶æ€

```
Cloudflare Dashboard 
  â†’ Pages 
    â†’ é€‰æ‹©æ‚¨çš„é¡¹ç›® 
      â†’ Deployments
```

### âœ… æœ€æ–°éƒ¨ç½²çŠ¶æ€
```
[ ] æ˜¾ç¤ºç»¿è‰²å‹¾å· âœ… "Success"
[ ] ä¸æ˜¯ âŒ "Failed"
[ ] ä¸æ˜¯ ğŸ”„ "Building" (å¦‚æœæ˜¯ï¼Œè¯·ç­‰å¾…)
```

**å¦‚æœæ˜¾ç¤º Failed**:
1. ç‚¹å‡»è¯¥éƒ¨ç½²
2. æŸ¥çœ‹ "Build log"
3. æŸ¥æ‰¾é”™è¯¯æ¶ˆæ¯
4. è®°å½•é”™è¯¯ä¿¡æ¯

**å¦‚æœæ˜¾ç¤º Building**:
1. ç­‰å¾… 1-2 åˆ†é’Ÿ
2. åˆ·æ–°é¡µé¢
3. ç­‰å¾…å˜æˆ Success æˆ– Failed

---

## ğŸ“ æ­¥éª¤ 4: æ£€æŸ¥æ„å»ºæ—¥å¿—

ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²ï¼ŒæŸ¥çœ‹ Build log:

### âœ… æ—¥å¿—åº”è¯¥åŒ…å«
```
[ ] âœ“ 2031 modules transformed.
[ ] dist/index.html              XX.XX kB
[ ] dist/about.html              XX.XX kB
[ ] dist/assets/main-xxxx.js     XX.XX kB
[ ] âœ“ built in XX.XXs
[ ] Success: Build command completed
```

### âŒ æ—¥å¿—ä¸åº”è¯¥åŒ…å«
```
[ ] ERROR
[ ] Failed to build
[ ] Cannot find module
[ ] Build output directory does not exist
```

---

## ğŸ“ æ­¥éª¤ 5: è®¿é—®ç½‘ç«™

### âœ… åœ¨ Dashboard ä¸­
```
[ ] ç‚¹å‡» "Visit site" æŒ‰é’®
```

### âœ… åœ¨æµè§ˆå™¨ä¸­
```
[ ] é¦–é¡µæ­£å¸¸åŠ è½½ï¼ˆä¸æ˜¯ "There is nothing here yet"ï¼‰
[ ] æ ·å¼å’Œå›¾ç‰‡æ­£ç¡®æ˜¾ç¤º
[ ] è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
[ ] F12 æ§åˆ¶å°æ—  404 é”™è¯¯
```

---

## ğŸ”§ å¦‚æœæ£€æŸ¥å‘ç°é—®é¢˜

### é—®é¢˜ A: Build output directory ä¸æ˜¯ "dist"

**ä¿®å¤æ­¥éª¤**:
1. åœ¨ Settings â†’ Builds & deployments
2. å°† "Build output directory" æ”¹ä¸º: `dist`
3. ç‚¹å‡» "Save"
4. è¿”å› Deployments
5. ç‚¹å‡»æœ€æ–°éƒ¨ç½² â†’ "Retry deployment"
6. ç­‰å¾… 1-2 åˆ†é’Ÿ

---

### é—®é¢˜ B: æœ€æ–°éƒ¨ç½²æ˜¾ç¤º Failed

**ä¿®å¤æ­¥éª¤**:
1. ç‚¹å‡»è¯¥éƒ¨ç½²
2. å¤åˆ¶ Build logï¼ˆç‰¹åˆ«æ˜¯é”™è¯¯éƒ¨åˆ†ï¼‰
3. æŸ¥çœ‹ `TROUBLESHOOTING_404.md` æ‰¾å¯¹åº”çš„é”™è¯¯
4. æˆ–æä¾›æ—¥å¿—ä»¥è·å–å¸®åŠ©

---

### é—®é¢˜ C: Build command ä¸æ­£ç¡®

**ä¿®å¤æ­¥éª¤**:
1. åœ¨ Settings â†’ Builds & deployments
2. å°† "Build command" æ”¹ä¸º: `npm run build`
3. ç‚¹å‡» "Save"
4. è§¦å‘æ–°éƒ¨ç½²ï¼ˆæ¨é€ä»£ç æˆ– Retry deploymentï¼‰

---

### é—®é¢˜ D: éƒ¨ç½²æˆåŠŸä½†ç½‘ç«™ä»æ˜¾ç¤º 404

**ä¿®å¤æ­¥éª¤**:
1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - Windows: Ctrl + Shift + Delete
   - Mac: Cmd + Shift + Delete
   - é€‰æ‹©æ¸…é™¤"ç¼“å­˜çš„å›¾åƒå’Œæ–‡ä»¶"

2. **ç¡¬åˆ·æ–°é¡µé¢**
   - Windows: Ctrl + Shift + R
   - Mac: Cmd + Shift + R

3. **æ£€æŸ¥ URL**
   - ç¡®è®¤è®¿é—®çš„æ˜¯æ­£ç¡®çš„ Pages URL
   - æ ¼å¼: `https://your-project.pages.dev`

4. **ç­‰å¾… DNS ä¼ æ’­**
   - é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦ 2-5 åˆ†é’Ÿ
   - å°è¯•åœ¨æ— ç—•æ¨¡å¼æ‰“å¼€

---

## ğŸ¯ å®Œæ•´é…ç½®å‚è€ƒ

å¤åˆ¶æ­¤é…ç½®åˆ° Cloudflare Pages:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Framework preset:      None                     â”‚
â”‚ Build command:         npm run build            â”‚
â”‚ Build output directory: dist                    â”‚
â”‚ Root directory:        [ç•™ç©º]                   â”‚
â”‚                                                 â”‚
â”‚ Environment variables (å¯é€‰):                   â”‚
â”‚   NODE_VERSION = 22.16.0                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š é…ç½®éªŒè¯è¡¨

å®Œæˆåï¼Œåº”è¯¥å…¨éƒ¨æ‰“å‹¾ï¼š

```
âœ… Framework preset å·²è®¾ç½®
âœ… Build command = "npm run build"
âœ… Build output directory = "dist" (æ— å‰ç¼€)
âœ… Root directory ç•™ç©ºæˆ– "/"
âœ… æœ€æ–°éƒ¨ç½²çŠ¶æ€ = Success (ç»¿è‰²)
âœ… è®¿é—®ç½‘ç«™æ˜¾ç¤ºåº”ç”¨ï¼ˆä¸æ˜¯ 404ï¼‰
âœ… æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯
```

---

## ğŸ“ ä»éœ€å¸®åŠ©ï¼Ÿ

å¦‚æœå®Œæˆæ‰€æœ‰æ£€æŸ¥åä»æœ‰é—®é¢˜ï¼Œè¯·æä¾›ï¼š

1. **é…ç½®æˆªå›¾**
   - Settings â†’ Builds & deployments çš„æˆªå›¾

2. **éƒ¨ç½²æ—¥å¿—**
   - æœ€æ–°éƒ¨ç½²çš„å®Œæ•´ Build log

3. **æµè§ˆå™¨é”™è¯¯**
   - F12 â†’ Console çš„é”™è¯¯ä¿¡æ¯

4. **è®¿é—® URL**
   - æ‚¨æ­£åœ¨è®¿é—®çš„å®Œæ•´ URL

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

å½“æ‰€æœ‰æ£€æŸ¥é¡¹éƒ½æ‰“å‹¾æ—¶ï¼š

```
âœ… é…ç½®æ­£ç¡®
âœ… éƒ¨ç½²æˆåŠŸ  
âœ… ç½‘ç«™å¯è®¿é—®
âœ… åŠŸèƒ½æ­£å¸¸

ğŸŠ æ­å–œï¼æ‚¨çš„ç½‘ç«™å·²æˆåŠŸéƒ¨ç½²ï¼
```

---

**åˆ›å»ºæ—¥æœŸ**: 2025-12-07
**ç”¨é€”**: ç³»ç»ŸåŒ–æ£€æŸ¥å’Œä¿®å¤ Cloudflare Pages é…ç½®
**å…³é”®ç‚¹**: Build output directory = `dist`

